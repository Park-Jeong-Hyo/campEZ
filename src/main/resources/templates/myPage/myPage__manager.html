<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="" th:href="@{/css/myPage/myPage.css}" />
    <title>$Title$</title>
    <script
      src="https://kit.fontawesome.com/4fab4e86c9.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="wrapper">
      <div class="up-l"></div>

      <!-- 최상단 메뉴(UPPERMOST) -->
      <div class="up">
        <a href="" th:href="@{/}" class="up__link">HOME</a>
        <th:block th:if="${!session.isEmpty()}">
          <a href="" th:href="@{/mypage}" class="up__link">마이페이지</a>
          <a href="" th:href="@{/login/logout}" class="up__link">로그아웃</a>
        </th:block>
        <th:block th:if="${session.isEmpty()}">
          <a href="" th:href="@{/signup}" class="up__link">회원가입</a>
          <a href="" th:href="@{/login}" class="up__link">로그인</a>
        </th:block>
      </div>
      <div class="up-r"></div>

      <div class="hd-l"></div>

      <!-- 헤더 (HEADER) -->
      <header class="hd">
        <div class="hd__menu-item">
          <a href="" th:href="@{/search}" class="link">검색ez</a>
          <a href="" th:href="@{/preparing}" class="link">ez가이드</a>
          <a href="" th:href="@{/preparing}" class="link">사이트맵</a>
        </div>
        <div class="hd__logo-item">
          <a href="" th:href="@{/}" class="link">
            <i class="hd__logo fa-solid fa-house"></i>
            <h2>캠핑EZ</h2>
          </a>
        </div>
        <div class="hd__empty-item"></div>
      </header>

      <div class="hd-r"></div>

      <div class="gnb-l"></div>

      <!-- gnb영역 -->
      <nav class="gnb">
        <div class="gnb__gwangjang-submenu">
          <div><a href="" th:href="@{/community/bulletinBoard}" class="gnb__depth link">자유게시판</a></div>
          <div><a href="" th:href="@{/community/question}" class="gnb__depth link">질문게시판</a></div>
        </div>
        <div><a href="" th:href="@{/search}" class="link">검색ez</a></div>
        <div><p class="gnb__search">광장ez</p></div>
        <div><a href="" th:href="@{/preparing}" class="link">ez가이드</a></div>
      </nav>
      <div class="gnb-r"></div>
      <div class="post-l"></div>
      <!-- 마이페이지 내용 시작 -->
      <main>
        <!-- 탭2 -- 관리자 사용자 GNB -->
        <div class="tab2">
          <input name="tab" id="tab2__1" type="radio" />
          <input name="tab" id="tab2__2" type="radio" />
          <tabBtn--label id="tab2__label">
            <label for="tab2__1">내가 등록한 캠핑장</label>
            <label for="tab2__2">예약 내역 관리</label>
          </tabBtn--label>
        </div>
        <!-- 탭1 -- 일반 사용자 GNB -->
        <div class="tab1">
          <input name="tab" id="tab1__1" type="radio" />
          <input name="tab" id="tab1__2" type="radio" />
          <input name="tab" id="tab1__3" type="radio" />
          <tabBtn--label id="tab1__label">
            <label for="tab1__1">예약현황</label>
            <label for="tab1__2">회원정보</label>
            <label for="tab1__3">회원탈퇴</label>
          </tabBtn--label>
        </div>

        <!-- 탭1, 일반 이용자가 보게 될 화면 -->
        <div class="tab1__contant">
          <!-- 탭1__1__1, 예약 현황  -->
          <div class="tab1__1__content">
            <hr />
            <!-- 상단 타이틀 -->
            <div class="reserv__title">
              <p>예약번호</p>
              <p>입실일</p>
              <p>퇴실일</p>
              <p></p>
            </div>
            <!-- 예약 아이템, 4개까지 들어감 -->
            <div class="reserv__item" th:each=" item : ${myOrders}">
              <div class="reserv__campName">
                <a href="" th:text="${item.onumber}">캠핑장 이름</a>
              </div>
              <div class="reserv__inDate" th:text="${item.checkin}">
                22.22.22~22.22.22
              </div>
              <div class="reserv__outDate" th:text="${item.checkout}">
                22.22.22~22.22.22
              </div>

              <button class="reserv__btn" th:attr="data-onumber=${item.onumber}"
                      th:onclick="|location.href='@{/mypage/{onumber}/manager/del(onumber=${item.onumber})}'|">취소</button>

            </div>
            <!-- 예약 관리에서 페이지 버튼 -->
<!--            <div class="reserv__page">-->
<!--              <button class="reserv__pageBtn"><<</button>-->
<!--              <button class="reserv__pageBtn">1</button>-->
<!--              <button class="reserv__pageBtn">2</button>-->
<!--              <button class="reserv__pageBtn">3</button>-->
<!--              <button class="reserv__pageBtn">4</button>-->
<!--              <button class="reserv__pageBtn">>></button>-->
<!--            </div>-->
          </div>
          <!-- 탭1__2, 사용자 계정 정보 -->
          <div class="tab1__2__content">
            <hr />
            <form action="" th:object="${members}" method="post">
              <div class="member__item">
                <div class="member__title">이름</div>
                <input
                  class="member__main"
                  type="text"
                  th:field="*{mname}"
                  readonly
                />
              </div>
              <div class="member__item">
                <div class="member__title">아이디</div>
                <input
                  class="member__main"
                  type="text"
                  th:field="*{mid}"
                  readonly
                />
              </div>
              <div class="member__item">
                <div class="member__title">비밀번호</div>
                <input class="member__main" type="text" th:field="*{pw}" />
              </div>
              <div class="member__item">
                <div class="member__title">메일</div>
                <input class="member__main" type="text" th:field="*{email}" />
              </div>
              <div class="member__item">
                <div class="member__title">주소</div>
                <input
                  class="member__main"
                  type="text"
                  th:field="*{maddress}"
                />
              </div>
              <div class="member__item">
                <div class="member__title">닉네임</div>
                <input
                  class="member__main"
                  type="text"
                  th:field="*{nickname}"
                />
              </div>
              <div class="member__item">
                <div class="member__title">폰번호</div>
                <input class="member__main" type="text" th:field="*{phone}" />
              </div>
              <div class="member__item">
                <div class="member__title">타입</div>
                <input
                  class="member__main"
                  type="text"
                  th:field="*{mtype}"
                  readonly
                />
              </div>
              <div class="member__item">
                <div class="member__title">회사이름</div>
                <input
                  class="member__main"
                  type="text"
                  th:field="*{companyname}"
                  readonly
                />
              </div>
              <div class="member__item">
                <div class="member__title">사업자번호</div>
                <input
                  class="member__main"
                  type="text"
                  th:field="*{businessnumber}"
                  readonly
                />
              </div>
              <div class="member__item">
                <input class="member__btn" type="submit" value="수정하기" />
              </div>
            </form>
          </div>
          <!-- 탭1__3, 회원 탈퇴 -->
          <div class="tab1__3__content">
            <!-- 회원 탈퇴 재확인 모달 창 -->
            <div class="member__modal">
              <h2>정말 탈퇴하시겠습니까?</h2>
              <br />
              <br />
              <!-- 회원 탈퇴 모달 창 버튼 -->
              <input type="button" value="확인" id="member__modalYBTN" />
              <input type="button" value="취소" id="member__modalNBTN" />
            </div>
            <hr />
            <h1>회원 탈퇴를 하시겠습니까?</h1>
            <br />
            <h5>탈퇴하시려면 비밀 번호를 다시 입력해주세요.</h5>
            <input class="member__wthdr" type="text" />
            <!-- 회원 탈퇴 버튼 -->
            <input id="member__wthdrBTN" type="button" value="확인" />
          </div>
        </div>
        <!-- 탭2, 관리자 계정이 보게 될 화면 -->
        <div class="tab2__contant">
          <!-- 탭2__1, 내가 관리 중인 캠핑장 -->
          <div class="tab2__1__content">
            <hr />
            <div class="myCamp__saveBtnItem">
              <button class="myCamp__saveBtn"><a href="link" th:href="@{/search/save}">캠핑장 등록</a></button>
              <button type="button" class="myCamp__reserv btns">예약 내역</button>
            </div>
            <!-- 내 캠핑장, 3개까지 들어감 -->
            <form th:action="@{/mypage/{mid}/manager/campingDelete(mid=${item.mid})}" th:method="GET" class="myCamp__item"
                  th:each="item : ${myCamp}">
              <img class="myCamp__Photo"
                   src="https://cdn.crowdpic.net/list-thumb/thumb_l_CDD94CBD46425E4EDBD18A7A17C199E7.jpg" alt="이미지 없음" />
              <div class="myCamp__campName">
                <a href="" th:href="@{/search/{cnumber}/{areaNumber}/detail(cnumber=${item.getCnumber()}, areaNumber=${areaForm.getArea()})}" th:text="${item.cname}">캠핑장 이름</a>
              </div>
              <div>
                <button type="submit" id="myCamp__delBtn" class="myCamp__del btns">삭제</button>
                <input type="hidden" th:name="cnumber" th:value="${item.getCnumber()}" readonly>
              </div>
            </form>
            <!-- 페이지 버튼 -->
<!--            <div class="myCamp__page">-->
<!--              <button class="myCamp__pageBtn"><<</button>-->
<!--              <button class="myCamp__pageBtn">1</button>-->
<!--              <button class="myCamp__pageBtn">2</button>-->
<!--              <button class="myCamp__pageBtn">3</button>-->
<!--              <button class="myCamp__pageBtn">4</button>-->
<!--              <button class="myCamp__pageBtn">>></button>-->
<!--            </div>-->
          </div>
          <!-- 탭2__2, 내 캠핑장 예약 내역 -->
          <div class="tab2__2__content">
            <hr />
            <!-- 내 캠핑장 예약 내역 타이틀 -->
            <div class="managerRev__title">
              <p>캠프번호</p>
              <p>이름</p>
              <p>예약인ID</p>
              <p>인원</p>
              <p>구역</p>
              <p>입실일 &nbsp &nbsp &nbsp &nbsp &nbsp</p>
              <p>퇴실일 &nbsp &nbsp &nbsp &nbsp &nbsp</p>
            </div>
            <div class="managerRev__item" th:each="item : ${OrdersNameForm}">
              <div class="managerRev__num" th:text="${item.cnumber}">01</div>
              <div class="managerRev__campName">
                <a href="" th:text="${item.cname}">캠핑장 이름</a>
              </div>
              <div class="managerRev__revID" th:text="${item.mid}">2832753</div>
              <div class="managerRev__revNum" th:text="${item.headcount}">
                2832753
              </div>
              <div class="managerRev__zone" th:text="${item.area}">2-9d</div>
              <div class="managerRev__inDate" th:text="${item.checkin}">
                22.22
              </div>
              <div class="managerRev__outDate" th:text="${item.checkout}">
                22.22
              </div>
            </div>
<!--            <div class="managerRev__page">-->
<!--              <button class="managerRev__pageBtn"><<</button>-->
<!--              <button class="managerRev__pageBtn">1</button>-->
<!--              <button class="managerRev__pageBtn">2</button>-->
<!--              <button class="managerRev__pageBtn">3</button>-->
<!--              <button class="managerRev__pageBtn">4</button>-->
<!--              <button class="managerRev__pageBtn">>></button>-->
<!--            </div>-->
          </div>
        </div>
      </main>
      <div class="post-r"></div>
      <div class="ft-l"></div>
      <!-- 푸터영역(FOOTER)-->
      <footer class="ft">
        <div class="ft__logo-cell">
          <h2>캠핑EZ</h2>
        </div>
        <div class="ft__info-cell">
          <div class="ft__links">
            <a href="" class="link">개인정보취급방침</a>
            <a href="" class="link">홈페이지이용약관</a>
            <a href="" class="link">광고및제휴문의</a>
          </div>
          <div class="ft__others">
            <p>Copyrights(c) 2023 www.campingez.com. ALL RIGHTS RESERVED.</p>
            <p>TEL 010-1234-5678 (상담시간: 평일 10:00~18:00)</p>
            <p>E-MAIL : webmaster@testmail.com</p>
          </div>
        </div>
        <div class="ft__empty-cell"></div>
      </footer>
      <div class="ft-r"></div>
    </div>
  </body>
  <script>
    const $mid = document.getElementById('mid');
    $tab1__1 = document.getElementById('tab1__1');
    $tab1__2 = document.getElementById('tab1__2');
    $tab1__3 = document.getElementById('tab1__3');
    $tab2__1 = document.getElementById('tab2__1');
    $tab2__2 = document.getElementById('tab2__2');
    $wthdrBTN = document.getElementById('member__wthdrBTN');
    $member__modalYBTN = document.getElementById('member__modalYBTN');
    $member__modalNBTN = document.getElementById('member__modalNBTN');
    $tab1__1.onclick = function () {
      document.querySelector('.tab2__contant').style.display = 'none';
      document.querySelector('.tab1__contant').style.display = 'flex';
      document.querySelector('.tab1__1__content').style.display = 'block';
      document.querySelector('.tab1__2__content').style.display = 'none';
      document.querySelector('.tab1__3__content').style.display = 'none';
    };
    $tab1__2.onclick = function () {
      document.querySelector('.tab2__contant').style.display = 'none';
      document.querySelector('.tab1__contant').style.display = 'flex';
      document.querySelector('.tab1__1__content').style.display = 'none';
      document.querySelector('.tab1__2__content').style.display = 'block';
      document.querySelector('.tab1__3__content').style.display = 'none';
    };
    $tab1__3.onclick = function () {
      document.querySelector('.tab2__contant').style.display = 'none';
      document.querySelector('.tab1__contant').style.display = 'flex';
      document.querySelector('.tab1__1__content').style.display = 'none';
      document.querySelector('.tab1__2__content').style.display = 'none';
      document.querySelector('.tab1__3__content').style.display = 'block';
    };
    $tab2__1.onclick = function () {
      document.querySelector('.tab1__contant').style.display = 'none';
      document.querySelector('.tab2__contant').style.display = 'flex';
      document.querySelector('.tab2__1__content').style.display = 'block';
      document.querySelector('.tab2__2__content').style.display = 'none';
    };
    $tab2__2.onclick = function () {
      document.querySelector('.tab1__contant').style.display = 'none';
      document.querySelector('.tab2__contant').style.display = 'flex';
      document.querySelector('.tab2__1__content').style.display = 'none';
      document.querySelector('.tab2__2__content').style.display = 'block';
    };

    document
      .querySelector('.myCamp__reserv')
      .addEventListener('click', function () {
        document.querySelector('#tab2__2').checked = true;
        document.querySelector('.tab1__contant').style.display = 'none';
        document.querySelector('.tab2__contant').style.display = 'flex';
        document.querySelector('.tab2__1__content').style.display = 'none';
        document.querySelector('.tab2__2__content').style.display = 'block';
      });

    $wthdrBTN.addEventListener('click', () => {
      document.querySelector('.member__modal').style.display = 'block';
    });
    $member__modalYBTN.addEventListener('click', () => {
      document.querySelector('.member__modal').style.display = 'none';
      globalThis.location.href = `/mypage/${$mid.value}/camp/del`;
    });
    $member__modalNBTN.addEventListener('click', () => {
      document.querySelector('.member__modal').style.display = 'none';
    });

    const deleteBtn = document.querySelectorAll('.myCamp__delBtn');
      deleteBtn.addEventListener('click', e => {
      if (confirm("삭제하시겠습니까?") == false) {
        e.preventDefault();
      }
    });

</script>
</html>
